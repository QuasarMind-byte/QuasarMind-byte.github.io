{{ $text := .Get "text" | default "ğŸ‰ä¸ªäººæŠ€æœ¯æˆé•¿è®°å½•|é¡¹ç›®å®è·µ|å­¦ä¹ ç¬”è®°âœ¨" }}
{{ $speed := .Get "speed" | default 100 }}
{{ $delay := .Get "delay" | default 500 }}
{{ $cursor := .Get "cursor" | default "|" }}
{{ $color := .Get "color" | default "#333" }}
{{ $font := .Get "font" | default "monospace" }}
{{ $size := .Get "size" | default "1.2rem" }}
{{ $class := .Get "class" | default "" }}

<div class="typewriter-container hx:from-gray-900 hx:to-gray-600 hx:dark:from-gray-100 hx:dark:to-gray-400 {{ $class }}"
  data-text="{{ $text }}" data-speed="{{ $speed }}" data-delay="{{ $delay }}" data-cursor="{{ $cursor }}"
  style="color: {{ $color }}; font-family: {{ $font }}; font-size: {{ $size }};">
  <span class="typewriter-text"></span>
  <span class="typewriter-cursor">{{ $cursor }}</span>
</div>

<style>
  .typewriter-container {
    display: inline-block;
    padding: 0.5rem;
    min-height: 1.5em;
    line-height: 1.5;
  }

  .typewriter-text {
    display: inline;
    white-space: pre-wrap;
  }

  .typewriter-cursor {
    display: inline-block;
    animation: blink 0.7s infinite;
    font-weight: bold;
    margin-left: 2px;
  }

  @keyframes blink {

    0%,
    100% {
      opacity: 1;
    }

    50% {
      opacity: 0;
    }
  }

  /* ä¸»é¢˜æ ·å¼ */
  .typewriter-theme-dark {
    background-color: #2fed58;
    padding: 1rem;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  .typewriter-theme-light {
    background-color: #f9f9f9;
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid #eee;
  }

  .typewriter-theme-highlight {
    background: linear-gradient(90deg, #ffecd2, #fcb69f);
    padding: 1rem;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  .typewriter-neon {
    color: #fff;
    text-shadow:
      0 0 5px #0ff,
      0 0 10px #0ff,
      0 0 20px #0ff;
  }

  .typewriter-neon .typewriter-cursor {
    text-shadow:
      0 0 5px #f0f,
      0 0 10px #f0f,
      0 0 20px #f0f;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const containers = document.querySelectorAll('.typewriter-container');

    containers.forEach(container => {
      const text = container.dataset.text;
      const speed = parseInt(container.dataset.speed);
      const delay = parseInt(container.dataset.delay);
      const cursor = container.dataset.cursor;
      const textElement = container.querySelector('.typewriter-text');
      const cursorElement = container.querySelector('.typewriter-cursor');

      // è®¾ç½®å…‰æ ‡å­—ç¬¦
      cursorElement.textContent = cursor;

      // æ‰“å­—æœºæ•ˆæœå‡½æ•°
      function typeWriterEffect() {
        let i = 0;
        let currentText = '';

        function type() {
          if (i < text.length) {
            // æ·»åŠ ä¸‹ä¸€ä¸ªå­—ç¬¦
            currentText += text.charAt(i);
            textElement.textContent = currentText;
            i++;
            setTimeout(type, speed);
          } else {
            // æ‰“å­—å®Œæˆï¼Œä¿æŒå…‰æ ‡é—ªçƒ
          }
        }

        // åˆå§‹å»¶è¿Ÿ
        setTimeout(type, delay);
      }

      // åˆå§‹åŒ–æ•ˆæœ
      typeWriterEffect();
    });
  });
</script>